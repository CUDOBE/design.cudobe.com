{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///D:/cudobe1/design.cudobe.com/design2/design2cudobe/src/app/api/uploadDocs/route.js"],"sourcesContent":["import fs from \"fs\";\r\nimport path from \"path\";\r\n\r\nexport async function POST(request) {\r\n  const formData = await request.formData();\r\n\r\n  const shippingBill = formData.get(\"shipping_bill\");\r\n  const commercialInvoice = formData.get(\"commercial_invoice\");\r\n\r\n  if (!shippingBill || !commercialInvoice) {\r\n    return Response.json(\r\n      { error: \"Both shipping_bill and commercial_invoice are required\" },\r\n      { status: 400 }\r\n    );\r\n  }\r\n\r\n  const uploadDir = path.join(process.cwd(), \"uploads\");\r\n  if (!fs.existsSync(uploadDir)) {\r\n    fs.mkdirSync(uploadDir);\r\n  }\r\n\r\n  // helper function\r\n  const saveFile = async (file, prefix) => {\r\n    const bytes = await file.arrayBuffer();\r\n    const buffer = Buffer.from(bytes);\r\n\r\n    const ext = file.name.split(\".\").pop();\r\n    const fileName = `${prefix}_${Date.now()}.${ext}`;\r\n    const filePath = path.join(uploadDir, fileName);\r\n\r\n    fs.writeFileSync(filePath, buffer);\r\n    return fileName;\r\n  };\r\n\r\n  const savedShippingBill = await saveFile(shippingBill, \"shipping_bill\");\r\n  const savedCommercialInvoice = await saveFile(\r\n    commercialInvoice,\r\n    \"commercial_invoice\"\r\n  );\r\n\r\n  return Response.json({\r\n    success: true,\r\n    files: {\r\n      shipping_bill: savedShippingBill,\r\n      commercial_invoice: savedCommercialInvoice,\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAO;IAChC,MAAM,WAAW,MAAM,QAAQ,QAAQ;IAEvC,MAAM,eAAe,SAAS,GAAG,CAAC;IAClC,MAAM,oBAAoB,SAAS,GAAG,CAAC;IAEvC,IAAI,CAAC,gBAAgB,CAAC,mBAAmB;QACvC,OAAO,SAAS,IAAI,CAClB;YAAE,OAAO;QAAyD,GAClE;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,YAAY,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;IAC3C,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,YAAY;QAC7B,wGAAE,CAAC,SAAS,CAAC;IACf;IAEA,kBAAkB;IAClB,MAAM,WAAW,OAAO,MAAM;QAC5B,MAAM,QAAQ,MAAM,KAAK,WAAW;QACpC,MAAM,SAAS,OAAO,IAAI,CAAC;QAE3B,MAAM,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG;QACpC,MAAM,WAAW,GAAG,OAAO,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK;QACjD,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,WAAW;QAEtC,wGAAE,CAAC,aAAa,CAAC,UAAU;QAC3B,OAAO;IACT;IAEA,MAAM,oBAAoB,MAAM,SAAS,cAAc;IACvD,MAAM,yBAAyB,MAAM,SACnC,mBACA;IAGF,OAAO,SAAS,IAAI,CAAC;QACnB,SAAS;QACT,OAAO;YACL,eAAe;YACf,oBAAoB;QACtB;IACF;AACF"}}]
}