{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/cudobe1/design.cudobe.com/design2/design2cudobe/src/app/api/uploadDocs/auth/register/route.js"],"sourcesContent":["// This relative path goes up 5 levels to reach the root prisma folder\r\nimport { prisma } from \"../../../../../prisma/lib/helper.js\"; \r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport async function POST(req) {\r\n  try {\r\n    const body = await req.json();\r\n    const { accountType, fullName, email, password } = body;\r\n\r\n    // ... (rest of your validation and check existing user logic)\r\n\r\n    const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n    const user = await prisma.user.create({\r\n      data: {\r\n        fullName,\r\n        email,\r\n        password: hashedPassword,\r\n        accountType,\r\n        documents: \"[]\", // Required because 'documents' is in your table\r\n      },\r\n    });\r\n\r\n    return Response.json(\r\n      { message: \"User registered successfully\", userId: user.id },\r\n      { status: 201 }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"DATABASE ERROR:\", error); // Check your VS Code terminal for this!\r\n    return Response.json(\r\n      { message: \"Internal Server Error\", details: error.message },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"AAAA,sEAAsE;;;;;;;;;;AAEtE;;;AAEO,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG;QAEnD,8DAA8D;QAE9D,MAAM,iBAAiB,MAAM,8IAAM,CAAC,IAAI,CAAC,UAAU;QAEnD,MAAM,OAAO,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC;YACpC,MAAM;gBACJ;gBACA;gBACA,UAAU;gBACV;gBACA,WAAW;YACb;QACF;QAEA,OAAO,SAAS,IAAI,CAClB;YAAE,SAAS;YAAgC,QAAQ,KAAK,EAAE;QAAC,GAC3D;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB,QAAQ,wCAAwC;QACjF,OAAO,SAAS,IAAI,CAClB;YAAE,SAAS;YAAyB,SAAS,MAAM,OAAO;QAAC,GAC3D;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}