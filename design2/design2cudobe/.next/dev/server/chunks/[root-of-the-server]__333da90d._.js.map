{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///D:/cudobe1/design.cudobe.com/design2/design2cudobe/src/app/api/uploadDocs/auth/register/route.js"],"sourcesContent":["import { prisma } from \"@/lib/prisma\";\r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport async function POST(req) {\r\n  try {\r\n    const body = await req.json();\r\n    const {  accountType ,fullName, email, password} = body;\r\n\r\n    if (!fullName || !email || !password || !accountType) {\r\n      return Response.json(\r\n        { message: \"All fields are required\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Check existing user\r\n    const existingUser = await prisma.user.findUnique({\r\n      where: { email },\r\n    });\r\n\r\n    if (existingUser) {\r\n      return Response.json(\r\n        { message: \"Email already registered\" },\r\n        { status: 409 }\r\n      );\r\n    }\r\n\r\n    // Hash password\r\n    const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n    const user = await prisma.user.create({\r\n      data: {\r\n        fullName,\r\n        email,\r\n        password: hashedPassword,\r\n        accountType,\r\n      },\r\n    });\r\n\r\n    return Response.json(\r\n      { message: \"User registered successfully\", userId: user.id },\r\n      { status: 201 }\r\n    );\r\n  } catch (error) {\r\n    console.error(error);\r\n    return Response.json(\r\n      { message: \"Internal Server Error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAGO,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAG,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAC,GAAG;QAEnD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,YAAY,CAAC,aAAa;YACpD,OAAO,SAAS,IAAI,CAClB;gBAAE,SAAS;YAA0B,GACrC;gBAAE,QAAQ;YAAI;QAElB;QAEA,sBAAsB;QACtB,MAAM,eAAe,MAAM,OAAO,IAAI,CAAC,UAAU,CAAC;YAChD,OAAO;gBAAE;YAAM;QACjB;QAEA,IAAI,cAAc;YAChB,OAAO,SAAS,IAAI,CAClB;gBAAE,SAAS;YAA2B,GACtC;gBAAE,QAAQ;YAAI;QAElB;QAEA,gBAAgB;QAChB,MAAM,iBAAiB,MAAM,OAAO,IAAI,CAAC,UAAU;QAEnD,MAAM,OAAO,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC;YACpC,MAAM;gBACJ;gBACA;gBACA,UAAU;gBACV;YACF;QACF;QAEA,OAAO,SAAS,IAAI,CAClB;YAAE,SAAS;YAAgC,QAAQ,KAAK,EAAE;QAAC,GAC3D;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO,SAAS,IAAI,CAClB;YAAE,SAAS;QAAwB,GACnC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}